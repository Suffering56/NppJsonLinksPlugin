##Описание
NppJsonLinksPlugin позволяет настраивать ссылки в json-документах 
и обеспечивает возможность перехода к источнику при помощи клика по ссылке с зажатой клавишей CTRL.

####Пример:
Клик по ссылке `"abilityId": 100152` перенаправит к источнику: откроется файл *abilities.json* 
на строке где настроена соответствующая **ability** с `"id": 100152`.
Кликнуть можно как по слову `"abilityId"`, так и по значению `100152` - эти действия равнозначны.

Клик по ссылке элемента массива требует уточнения. Пример: `"abilities": [100152, 100153, 100154,100155]`. 
Кликнув на слово `"abilities"` плагин перенаправит на источник первого значения из массива, 
то есть на ability с **"id": 100152**. Чтобы перейти, например, на ability **100155** 
нужно кликнуть на соответствующее значение массива: `100155`.
 
##Дополнительные возможности
####Добавлены сочетания клавиш для упрощения навигации в документах:

- Перейти назад: CTRL + ALT + VK_LEFT (стрелочка влево). Открывает предыдущую локацию работы пользователя.
- Перейти вперед: CTRL + ALT + VK_RIGHT (стрелочка вправо). Отменяет действие перехода назад.

##Начало работы
####Требования:
NppJsonLinksPlugin работает только на 32-битной версии Notepad++

Плагин полностью совместим с последней (на текущей момент) версией Notepad++ v.7.8.8(32-bit).

Ссылка на скачивание NPP: https://github.com/notepad-plus-plus/notepad-plus-plus/releases/download/v7.8.8/npp.7.8.8.Installer.exe

Автор подозревает, что на слишком давних версиях NPP (6.xx и ниже) ничего работать не будет.

###Установка:
- скачать плагин можно по ссылке: https://github.com/Suffering56/NppJsonLinksPlugin/raw/master/NppJsonLinksPlugin/NppJsonLinksPlugin.zip
- полученный архив нужно распаковать в `C:/Program Files (x86)/Notepad++/plugins/` так, чтобы файл NppJsonLinksPlugin.dll лежал по адресу: 
`C:/Program Files (x86)/Notepad++/plugins/NppJsonLinksPlugin/NppJsonLinksPlugin.dll`, а рядом с ним лежал файл config.ini
- в корне архива есть папка с файлом `Newtonsoft.Json.dll`. Положи его в `C:/Program Files (x86)/Notepad++/` рядом с файлом `notepad++.exe`
- затем нужно запустить/перезапустить Notepad++
- далее зайти в `Меню=>Плагины(Plugins)=>NppJsonLinksPlugin=>Settings` и указать путь к папке с json-данными в поле `Jsons working directory`. 
Остальные настройки можно не трогать.
- осталось сохранить изменения (кнопка Save)
- должно появиться сообщение: Plugin reloaded: success! 
- бинго! ты потрясающий!

####Настройки:
 Все доступные настройки плагина можно найти в Меню=>Плагины(Plugins)=>NppJsonLinksPlugin:
 
- `Disable plugin:` Отключает работу плагина. Плагин влияет на производительность Notepad++ и если совсем будет плохо - здесь его можно будет отключить.

- `Reload/Enable plugin:` Перезапускает плагин (или запускает его если тот был отключен). 
Все настройки плагина будут так же перечитаны из конфигурационных файлов. 
Если конфиги изменились и их нужно подтянуть, или просто плагин стал неправильно работать - эта кнопка поможет.

- `Settings:` Открывает окно для редактирования конфигурационного файла плагина:

    - **URI of settings.json:** путь к файлу settings.json, о котором будет рассказано ниже. Путь может быть как локальным
    (`C:/Program Files (x86)/.../settings.json`), так и URL-адресом (`https://raw.githubusercontent.com/.../settings.json`)
    
    - **Logger path:** Путь к папке, куда будут писаться логи, если будут включены
    
    - **Logger mode:** Режим логирования:
        - ENABLED - логи работают в штатном режиме и пишутся в соответствующие файлы директории `Logger path`
        - ONLY_ERRORS - логи отключены, но сообщения об ошибках будут отображаться в диалоговых окнах.
        - DISABLED - полностью отключенное логирование, в том числе и диалоговые окна ошибок.
        
    - **Jsons working directory:** папка с json-ами, для которых настроены ссылки. Если проще - то это путь к папке `gd_data`.
    
    - **Highlighting enabled:** включить/отключить подсветку ссылок (нижнее подчеркивание). 
    Подсветка может влиять на прозводительность Notepad++, поэтому ее можно отключить. 
    *Переход по ссылкам будет работать даже при отключенной подсветке.*
    
    - **Sound enabled:** включить/отключить звуковые эффекты. Звуковой эффект в плагине всего один. 
    Единственная возможность его услышать это CTRL-кликнуть по слову, не являющемуся ссылкой или по ссылке, чей источник был удален. 
    Меня этот звук на стадии тестов выбесил, поэтому эта настройка вообще существует.
    
    - **Jump to line delay:** Если вдруг при переходе по ссылке вы постоянно оказываетесь на строке, отличной от той что ожидалась
    (обычно это сопровождается выделенным текстом от текущей позиции каретки до строки, на которую мы и должны были попасть), 
    то стоит увеличить это значение например до 100. Со значением можно поиграться. 
    Предполагается, что чем лучше ПК пользователя - тем меньшее значение потребуется выставить, чтобы устранить этот баг.
    
 ##Маппинг
 К сожалению, в плагине нет никакой магии, и само существование ссылок, 
 которые можно потыкать - это большой длинный необрезанный конфиг `settings.json`, а точнее его подпункт `mappintItems`.
 Именно здесь ручками настраиваются ссылки (в каких файлах они могут быть, какие слова должны быть подсвечены, 
 и куда эти ссылки должны в конце концов перенаправлять).
 
    Это я вообще к чему? А к тому, что новые фичи порождают новые json-объекты (или даже документы). 
    И почти наверняка в этих документах не будет поддержки ссылок. Их нужно будет донастроить.  
    Пример настройки с комментариями можно найти в репозитории плагина в файле settings_example.json.
    Каждый пользователь может иметь у себя локальный settings.json со своим блекджеком и маппингом, 
    но мне больше нравится вариант с одним экземпляром settings.json,
    лежащем на каких-то расшаренных пространствах, к которому все будут иметь доступ.
    Удаленный settings.json немного замедлит загрузку Notepad++, не пугайтесь.

##Известные проблемы:
- Кириллица. Ссылки могут себя странно вести, если на одной строке с ссылкой присутствуют кириллические (русские) символы.
Например файл `equipmentViews.json:2`. Ссылки "tierId" поехали и по ним нельзя перейти, куда бы вы не CTRL-кликали. 
Но если уж очень хочется переходить по таким ссылкам, нужно перетащить ссылку на новую строку при помощи замечательной клавиши ENTER.
Возможно когда-нибудь это пофиксится.

- Ненастроенные ссылки. Автор постарался настроить ссылки на все случаи жизни, но мог чего-то не учесть. 
Это можно будет донастроить, только сообщите об этом.
НО! Есть типы ссылок, которые не удалось поддержать. Например - кастомизация замка. 
Дело в том, что id-шники для разных типов кастомизаций не уникальны, а код, который бы плагину выбрать именно нужный источник - не написан.

- Комнаты (rooms). При клике по ссылке `"roomId"` можно оказаться в нужной комнате, но в случайном её грейде. 
У комнат проблема аналогичная выше описанной, только в отличии от кастомизации замка, я посчитал, что комнаты можно и настроить. 
В большинстве случаев (если кому-то вообще эти комнаты будут нужны) человеку просто нужно будет понять, 
что за комната скрывается за кликнутым "roomId", а грейд - не важен.